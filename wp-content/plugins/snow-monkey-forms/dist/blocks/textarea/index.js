(()=>{"use strict";const e=window.wp.blocks,n=JSON.parse('{"u2":"snow-monkey-forms/control-textarea"}'),o=window.wp.element,t=window.wp.blockEditor,a=window.wp.components,l=window.wp.compose,r=window.wp.i18n,s=({value:e,onChange:n})=>{const t={};return""===e&&(t.borderColor="#d94f4f"),(0,o.createElement)(a.TextControl,{label:(0,r.__)("name","snow-monkey-forms"),help:(0,r.__)("Required. Input a unique machine-readable name.","snow-monkey-forms"),value:e,onChange:n,required:!0,style:t})},m=({value:e,onChange:n,multiple:t=!1})=>{const l=t?a.TextareaControl:a.TextControl;return(0,o.createElement)(l,{label:(0,r.__)("value","snow-monkey-forms"),help:(0,r.__)("Optional. Initial value.","snow-monkey-forms"),value:e,onChange:n})},c=({value:e,onChange:n})=>(0,o.createElement)(a.TextControl,{label:(0,r.__)("placeholder","snow-monkey-forms"),value:e,onChange:n}),i=({value:e,onChange:n})=>(0,o.createElement)(a.TextControl,{label:(0,r.__)("maxlength","snow-monkey-forms"),help:(0,r.__)("Optional. Maximum number of characters. If 0, not restricted.","snow-monkey-forms"),value:e,onChange:n}),d=({value:e,onChange:n,options:t=[]})=>{const l=1>t.length?["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","email","username","new-password","current-password","one-time-code","organization-title","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-extension","impp","url","photo"].map((e=>({value:e,label:e}))):t;return(0,o.createElement)(a.SelectControl,{label:(0,r.__)("autocomplete","snow-monkey-forms"),value:e,options:l,onChange:n})},u=({value:e,onChange:n})=>(0,o.createElement)(a.TextControl,{label:(0,r.__)("id","snow-monkey-forms"),value:e,onChange:n}),h=({value:e,onChange:n})=>(0,o.createElement)(a.TextControl,{label:(0,r.__)("class","snow-monkey-forms"),help:(0,r.__)("Separate multiple classes with spaces.","snow-monkey-forms"),value:e,onChange:n}),p=window.lodash;function v(e,n){return""===e?0:null!==e.match(/^[0-9]+$/)?parseInt(e):n}const w=(0,l.createHigherOrderComponent)((e=>n=>{const{attributes:l,setAttributes:s}=n,{validations:m}=l;if(void 0===m)return(0,o.createElement)(e,{...n});const c=JSON.parse(m);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(t.InspectorControls,null,(0,o.createElement)(a.PanelBody,{title:(0,r.__)("Validation","snow-monkey-forms")},(0,o.createElement)(a.ToggleControl,{label:(0,r.__)("Required","snow-monkey-forms"),checked:!!c.required,onChange:e=>{s({validations:JSON.stringify((0,p.merge)(c,{required:e}))})}}))),(0,o.createElement)(e,{...n}))}),"withValidations"),g=(0,l.compose)(w)((({attributes:e,setAttributes:n})=>{const{name:l,rows:p,value:w,placeholder:g,maxlength:f,autocomplete:y,id:C,controlClass:_,description:E,isDisplayDescriptionConfirm:b}=e;(0,o.useEffect)((()=>{""===l&&n({name:`textarea-${((new Date).getTime()+Math.floor(8999*Math.random()+1e3)).toString(32)}`})}));const k=(0,t.useBlockProps)({className:"smf-placeholder"});return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(t.InspectorControls,null,(0,o.createElement)(a.PanelBody,{title:(0,r.__)("Attributes","snow-monkey-forms")},(0,o.createElement)(s,{value:l,onChange:e=>n({name:e})}),(0,o.createElement)(a.TextControl,{label:(0,r.__)("rows","snow-monkey-forms"),help:(0,r.__)("Number of lines","snow-monkey-forms"),type:"number",value:p,onChange:e=>{e=v(e,p),n({rows:0<e?e:1})}}),(0,o.createElement)(m,{multiple:!0,value:w,onChange:e=>n({value:e})}),(0,o.createElement)(c,{value:g,onChange:e=>n({placeholder:e})}),(0,o.createElement)(i,{value:f,onChange:e=>{n({maxlength:v(e,f)})}}),(0,o.createElement)(d,{value:y,onChange:e=>{n({autocomplete:e})}}),(0,o.createElement)(u,{value:C,onChange:e=>n({id:e})}),(0,o.createElement)(h,{value:_,onChange:e=>n({controlClass:e})})),(0,o.createElement)(a.PanelBody,{title:(0,r.__)("Block settings","snow-monkey-forms")},(0,o.createElement)(a.TextControl,{label:(0,r.__)("Description","snow-monkey-forms"),value:E,onChange:e=>n({description:e})}),(0,o.createElement)(a.ToggleControl,{label:(0,r.__)("Description is also displayed on the confirmation screen","snow-monkey-forms"),checked:b,onChange:e=>{n({isDisplayDescriptionConfirm:e})}}))),(0,o.createElement)("div",{...k,"data-name":l},(0,o.createElement)("div",{className:"smf-textarea-control"},(0,o.createElement)("textarea",{name:l,value:w,rows:p,placeholder:g,maxLength:f||void 0,disabled:"disabled",id:C||void 0,className:`smf-textarea-control__control ${_}`})),E&&(0,o.createElement)("div",{className:"smf-control-description"},E)))}));(0,e.registerBlockType)(n.u2,{icon:{src:function(){return(0,o.createElement)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:"#cd162c"}},(0,o.createElement)("path",{d:"m.25 5c0-1.39645.9809-2.75 2.44231-2.75h18.61539c1.4614 0 2.4423 1.35355 2.4423 2.75v14c0 1.3965-.9809 2.75-2.4423 2.75h-18.61539c-1.46141 0-2.44231-1.3535-2.44231-2.75zm2.44231-1.25c-.40787 0-.94231.43732-.94231 1.25v14c0 .8127.53444 1.25.94231 1.25h18.61539c.4079 0 .9423-.4373.9423-1.25v-14c0-.81269-.5344-1.25-.9423-1.25zm16.07689 4.99998-4.6538.00001v-1.5l4.6538-.00001zm-11.42305.00002-2.11538-.00002v-1.5l2.11539.00002zm2.96155 0-2.1154-.00001.00001-1.5 2.11539.00001zm2.9615 0-2.1154-.00001.0001-1.5 2.1153.00001zm5.5 4h-4.6538v-1.5h4.6538zm-11.42305 0h-2.11538v-1.5h2.11539zm5.92305 0h-5.07689v-1.5h5.07689zm-5.92305 4h-2.11539l.00001-1.5h2.11539zm2.96155 0h-2.1154l.00001-1.5h2.11539zm2.9615 0h-2.1154l.0001-1.5h2.1153z",clipRule:"evenodd",fillRule:"evenodd"}))}},edit:g,save:()=>null})})();